import{j as e,N as Y,u as i,L as B,S as d,a as H,r as a,B as v,g as k,b as F,c as P,d as U,e as E,f as Q,h as q,i as G,C as J,O as K}from"./index-dc1813bb.js";import{S as V,P as X}from"./Pagination-403c21ee.js";import{T as Z}from"./Title-a41b8230.js";import ee from"./NotFoundPage-685ed576.js";import{g as I,a as te,b as se,c as ne,d as le}from"./noticesSelectors-ad4f8b4c.js";import{M as oe,D as ae}from"./DeleteModal-156370de.js";import{p as ie}from"./index-88ec1d51.js";import{f as re}from"./index-986389ff.js";const y=({to:t,children:s,onClick:l})=>e.jsx(Y,{to:t,onClick:l,className:({isActive:o})=>o?"bg-blue inline-block text-background px-4 py-2 text-sm h-[35px] rounded-[40px] leading-normal":"inline-block text-blue px-4 py-2 text-sm h-[35px] bg-lightBlue rounded-[40px] leading-normal",children:s}),de=({className:t="",onClick:s})=>{const l=i(o=>o.auth.token);return e.jsxs("div",{className:`flex flex-wrap gap-2 ${t}`,children:[e.jsx(y,{to:"/notices/sell",onClick:s,children:"sell"}),e.jsx(y,{to:"/notices/lost",onClick:s,children:"lost"}),e.jsx(y,{to:"/notices/found",onClick:s,children:"found"}),e.jsx(y,{to:"/notices/good-hands",onClick:s,children:"in good hands"}),!!l&&e.jsxs(e.Fragment,{children:[e.jsx(y,{to:"/notices/favorite",onClick:s,children:"favorite ads"}),e.jsx(y,{to:"/notices/own",onClick:s,children:"my ads"})]})]})},T=({onCloseModal:t})=>e.jsxs("div",{className:"flex justify-center items-center flex-col w-72 md:w-[608px]",children:[e.jsx("h3",{className:"Attention mt-12 text-center text-neutral-900 text-2xl md:text-4xl font-medium fon",children:"Attention"}),e.jsx("p",{className:" mt-5 mb-10 text-center text-neutral-900 text-sm font-medium font-['Manrope'] leading-none md:leading-6 tracking-wide",children:"We would like to remind you that certain functionality is available only to authorized users.If you have an account, please log in with your credentials. If you do not already have an account, you must register to access these features."}),e.jsxs("div",{className:"flex gap-2.5 md:gap-5 smOnly:flex-col mb-12",children:[e.jsx(B,{to:"/login",children:e.jsxs("button",{onClick:t,type:"button",className:"  smOnly:w-60 smOnly:h-10 smOnly:px-16 smOnly:py-2 md:w-36 md:h-9 md:py-2 md:px-5 bg-yellow hover:orange-gradient rounded-3xl border-2 border-yellow justify-center items-center gap-2 inline-flex text-white text-base font-bold font-['Manrope'] tracking-wide",children:["Log IN",e.jsx("span",{className:" rotate-[25deg] w-6 h-6 ",children:e.jsx(d,{id:"icon-pawprint",size:"24px",stroke:"white",fill:"white"})})]})}),e.jsx(B,{to:"/register",children:e.jsx("button",{onClick:t,type:"button",className:"  smOnly:w-60 smOnly:h-10 smOnly:px-16 smOnly:py-2 md:w-36 md:h-9 md:py-2 md:px-5 justify-center items-center hover:orange-gradient text-yellow hover:text-white flex border-2 border-yellow rounded-3xl",children:"Registration"})})]})]}),ce=()=>{const t=i(r=>r.auth.token),s=H(),[l,o]=a.useState(!1),p=()=>{o(!0)},h=()=>{o(!1)},c=()=>{console.log("click"),t?s("/add-pet"):p()};return e.jsxs(e.Fragment,{children:[e.jsx(v,{isOpen:l,onCloseModal:h,children:e.jsx(T,{onCloseModal:h})}),e.jsx("div",{className:`w-20 h-20 md:h-10 bg-blue rounded-[40px] shadow blue-gradient fixed right-5 
    bottom-5 md:relative md:inset-0 md:mt-[40px] md:w-[129px] cursor-pointer z-10`,onClick:c,children:e.jsxs("div",{className:"absolute left-0 top-0 w-full rounded-[40px] h-full md:flex-row-reverse md:flex md:static md:pr-[13px] gap-[8px] items-center",children:[e.jsx(d,{id:"icon-plus",size:"24px",stroke:"white",className:"left-[28px] top-[20px] absolute md:static md:scale-50 "}),e.jsx("p",{className:`text-white font-semibold text-xs absolute left-[18px] top-[48px] md:static md:text-base 
        md:tracking-wide md:font-bold md:font-['Manrope']`,children:"Add pet"})]})})]})},xe=({addToFavorites:t})=>{const s=i(k),l=i(I),o=p=>p.inFavorites.includes(s._id);return e.jsxs("button",{type:"button",onClick:t,className:" md:w-32 md:h-10 smOnly:w-auto smOnly:h-10 px-5 py-2 hover:blue-gradient bg-blue rounded-3xl justify-center items-center gap-2 inline-flex text-stone-50 text-base font-bold font-['Manrope'] tracking-wide",children:[o(l)?"Remove":"Add to",e.jsx("span",{children:o(l)?e.jsx(d,{id:"icon-heart",size:"24px",stroke:"white",fill:"#54ADFF"}):e.jsx(d,{id:"icon-heart",size:"24px",stroke:"#54ADFF",fill:"white"})})]})},me=({data:t})=>e.jsx("a",{href:`tel:${t.owner.phone}`,type:"button",className:" hover:blue-gradient hover:text-white text-blue text-base font-bold font-['Manrope'] tracking-wide smOnly:w-auto smOnly:h-10 md:w-32 md:h-10 px-5 py-2 rounded-3xl border-2 border-blue justify-center items-center gap-2 inline-flex",children:"Contact"}),pe=({data:t})=>{const s=ie(t.birthDate),l=re(s,"dd.MM.yyyy");return e.jsxs("div",{className:"flex mt-[19px]",children:[e.jsxs("ul",{className:"text-justify justify-center inline-flex gap-[8px] flex-col text-black smOnly:text-sm md:text-base font-semibold font-['Manrope']",children:[e.jsx("li",{children:e.jsx("p",{children:"Name:"})}),e.jsx("li",{children:e.jsx("p",{children:"Birthday:"})}),e.jsx("li",{children:e.jsx("p",{children:"Type:"})}),e.jsx("li",{children:e.jsx("p",{children:"Place:"})}),e.jsx("li",{children:e.jsx("p",{children:"The sex:"})}),e.jsx("li",{children:e.jsx("p",{children:"Email:"})}),e.jsx("li",{children:e.jsx("p",{children:"Phone:"})}),t.price&&e.jsx("li",{children:e.jsx("p",{children:"Price:"})})]}),e.jsxs("ul",{className:" inline-flex gap-[8px] justify-center flex-col ml-5 text-black smOnly:text-sm md:text-base font-medium font-['Manrope']",children:[e.jsx("li",{children:e.jsx("p",{children:t.name||e.jsx("span",{className:"text-gray-300",children:"No information..."})})}),e.jsx("li",{children:e.jsx("p",{children:l||e.jsx("span",{className:"text-gray-300",children:"No information..."})})}),e.jsx("li",{children:e.jsx("p",{children:t.type||e.jsx("span",{className:"text-gray-300",children:"No information..."})})}),e.jsx("li",{children:e.jsx("p",{children:t.location||e.jsx("span",{className:"text-gray-300",children:"No information..."})})}),e.jsx("li",{children:e.jsx("p",{children:t.sex||e.jsx("span",{className:"text-gray-300",children:"No information..."})})}),e.jsx("li",{className:"hover:scale-110 transition-transform transform-all text-yellow smOnly:text-sm md:text-base font-medium font-['Manrope'] underline",children:e.jsx("a",{href:t.owner.email?`mailto:${t.owner.email}`:"#",children:t.owner.email||e.jsx("span",{className:"text-gray-300",children:"No information..."})})}),e.jsx("li",{className:"hover:scale-110 transition-transform transform-all text-yellow smOnly:text-sm md:text-base font-medium font-['Manrope'] underline",children:e.jsx("a",{href:t.owner.phone?`tel:${t.owner.phone}`:"#",children:t.owner.phone||e.jsx("span",{className:"text-gray-300",children:"No information..."})})}),t.price&&e.jsx("li",{children:e.jsxs("p",{className:"text-green",children:["$",t.price]})})]})]})},he=({data:t={},addToFavorites:s})=>e.jsxs("div",{className:" smOnly:max-w-[280px] md:w-[633px]",children:[e.jsxs("div",{className:"md:flex ",children:[e.jsxs("div",{className:"flex relative justify-center items-center smOnly:mt-8 smOnly:w-[280px] smOnly:h-[286px] md:w-[262px] md:h-[290px]",children:[e.jsx("img",{src:t.imageURL||"/src/images/petAvatar.jpg",alt:"dog",className:"Rectangle303 smOnly:w-auto smOnly:h-[286px] md:w-[262px] md:h-[290px] object-cover rounded-bl-[40px] rounded-br-[40px]"}),e.jsx("p",{className:" InGoodHands flex object-cover justify-center items-center w-[126px] h-[32px] px-[17px] py-[11px] rounded-e-2xl bg-lightBlue text-neutral-900 text-sm font-medium font-['Manrope'] top-4  smOnly: left-[0px] md:left-0 absolute",children:t.category||e.jsx("span",{className:"text-gray-300",children:"Not information..."})})]}),e.jsxs("div",{className:"md:ml-6",children:[e.jsx("h2",{className:" text-black text-2xl smOnly:mt-3 sm: w-52 font-bold font-['Manrope']",children:t.title||e.jsx("span",{className:"text-gray-300",children:"No information..."})}),e.jsx(pe,{data:t})]})]}),e.jsxs("p",{className:" mt-3 text-black smOnly:text-sm md:text-base  font-semibold font-['Manrope'] tracking-wide",children:["Comments:"," ",e.jsx("span",{className:"text-black smOnly:text-sm md:text-base  font-medium font-['Manrope'] tracking-wide",children:t.comments||e.jsx("span",{className:"text-gray-300",children:"No information..."})})]}),e.jsxs("div",{className:"button-container flex gap-2 md:gap-4 smOnly:mt-3 md:mt-16 smOnly:flex-col md:justify-end",children:[e.jsx(xe,{addToFavorites:s}),e.jsx(me,{data:t})]})]}),ue=({onCloseModal:t,onOpenAtentionModal:s})=>{const l=F(),o=i(te),p=i(P),h=i(k),c=i(se),r=i(I),[u,m]=a.useState({width:window.innerWidth,height:window.innerHeight});a.useEffect(()=>{const x=()=>{m({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}},[]);const f=()=>{p?l(E({data:r,user:h})):(t(),s())};return e.jsx(e.Fragment,{children:c?e.jsxs("div",{className:"flex flex-col justify-center items-center smOnly:w-[280px] smOnly:h-[821px] md:w-[633px] md:h-[495px]",children:[e.jsx("img",{src:"/src/images/catError.png",alt:"error"}),e.jsx("p",{className:"text-rose-600 text-lg font-bold font-['Manrope']",children:"Sorry, something went wrong !"}),e.jsx("button",{onClick:()=>window.location.reload(),className:" md:w-58  md:h-10 smOnly:w-auto smOnly:h-10 md:mt-4 smOnly:mt-5 px-5 py-2 bg-blue hover:blue-gradient text-white rounded-3xl text-base font-bold font-['Manrope']",type:"button",children:"Reload page"})]}):e.jsx(e.Fragment,{children:o?e.jsx("div",{className:"smOnly:w-[280px] smOnly:h-[821px] md:w-[633px] md:h-[495px] flex justify-center items-center",children:u.width<=767.98?e.jsx(oe,{}):e.jsx(U,{})}):e.jsx(he,{addToFavorites:f,data:r})})})},fe=({pet:t})=>{const s=i(P),l=i(k),o=t.sex==="female";let h=((n,j)=>n&&n.length&&j?n.length>j?n.slice(0,j)+"...":n:n||"")(t.location,4);const c=new Date(t.birthDate),r=new Date,u=r.getMonth()-c.getMonth()+12*(r.getFullYear()-c.getFullYear());let m;if(u<1){const n=Math.ceil((r-c)/864e5);m=n===1?`${n} day`:`${n} days`}else if(u<12)m=`${u} mth`;else{const n=Math.ceil(r.getFullYear()-c.getFullYear());m=n===1?`${n} year`:`${n} years`}const f=F(),[x,b]=a.useState(!1),[O,w]=a.useState(!1),N=()=>{w(!0)},g=()=>{w(!1)},M=n=>{b(!0),f(Q(n))},C=()=>{b(!1)},[$,L]=a.useState(!1),[je,A]=a.useState(null),R=n=>{L(!0),A(n)},D=()=>{L(!1),A(null)},W=n=>{var j;return(j=n==null?void 0:n.inFavorites)==null?void 0:j.includes(l._id)},_=t;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:" w-[288px] h-[456px]  pb-[24px]  mdOnly:w-[336px] smOnly:w-[280px] relative hover:shadow-xl  bg-white rounded-bl-[40px] rounded-br-[40px] shadow-default hover:shadow-focus",children:[e.jsx("img",{className:"h-[288px] w-[100%] object-cover",src:t.imageURL,alt:t.type}),e.jsx("div",{className:" flex   w-[126px] h-[32px] px-[17px] py-[11px] left-0 top-[16px] absolute bg-lightBlue rounded-tr-2xl rounded-br-2xl  ",children:e.jsx("p",{className:" flex items-center justify-center  w-[92px] h-[10px]  text-neutral-900 text-sm font-medium manrope",children:t.category})}),e.jsx("div",{className:"w-10 h-10 right-[12px] top-[12px] bg-lightBlue rounded-full absolute group cursor-pointer hover:bg-blue",onClick:s?()=>f(E({data:_,user:l})):()=>N(),children:e.jsx(d,{id:"icon-heart",size:24,className:W(t)?"left-[8px] fill-blue stroke-blue top-[9px] absolute group-hover:fill-lightBlue group-hover:stroke-lightBlue":"left-[8px] fill-transparent stroke-blue top-[9px] absolute group-hover:fill-lightBlue group-hover:stroke-lightBlue"})}),s&&t.owner===l._id&&e.jsx("div",{className:"w-10 h-10 right-[12px] top-[68px] absolute group bg-lightBlue rounded-full cursor-pointer ",onClick:()=>R(t._id),children:e.jsx(d,{id:"icon-trash",size:24,className:" left-[8px] fill-transparent stroke-[#54ADFF] top-[9px] absolute group-hover:fill-[#54ADFF] "})}),e.jsx("p",{className:"w-[231px] h-[66px] text-neutral-900 text-2xl font-bold manrope mt-[20px] ml-[20px]",children:t.title}),e.jsxs("button",{onClick:()=>M(t._id),className:"hover:bg-gradient-to-l from-[#419EF1] to-[#9BD0FF] hover:text-white hover:border-none w-[248px] h-[38px] mx-[20px] mt-[20px] smOnly:mx-[16px] mdOnly:mx-[44px] mdOnly:h-[40px] rounded-[40px] border-2 border-[#54ADFF]  text-[#54ADFF] items-center pl-[78px]   flex manrope tracking-wide group",type:"button",children:[e.jsx("p",{className:"transition-transform transform group-hover:-translate-x-[12px] flex ",children:"Learn more"}),e.jsx(d,{id:"icon-pawprint",size:24,className:" fill-transparent group-hover:fill-[white]"})]}),e.jsxs("div",{className:" w-20 px-1 py-0.5 left-[12px] smOnly:left-[8px] mdOnly:left-[24px] top-[248px] absolute bg-[#CCE4FB]  rounded-2xl justify-center items-center gap-[4px] inline-flex group",children:[e.jsx(d,{id:"icon-location",size:24,className:"fill-transparent stroke-[#54ADFF]"}),e.jsx("p",{className:"text-neutral-900 text-xs font-semibold manrope tracking-wide  ",children:h})]}),e.jsxs("div",{className:" w-[88px] px-1 py-0.5 left-[102px] smOnly:left-[96px] mdOnly:left-[124px] top-[248px] absolute bg-[#CCE4FB]  rounded-2xl justify-center items-center gap-[2px] inline-flex group",children:[e.jsx(d,{id:"icon-clock",size:24,className:"fill-transparent stroke-[#54ADFF] "}),e.jsx("p",{className:"text-neutral-900 text-xs font-semibold font-['Manrope'] tracking-wide ",children:m})]}),e.jsxs("div",{className:" w-[80px] h-[28px] px-1 py-0.5 left-[196px] smOnly:left-[192px] mdOnly:left-[232px] top-[248px] absolute bg-[#CCE4FB]  rounded-2xl flex items-center gap-[4px] group",children:[o?e.jsx(d,{id:"icon-female",size:24,px:!0,className:"fill-transparent stroke-[#54ADFF] "}):e.jsx(d,{id:"icon-male",size:24,px:!0,className:"fill-transparent stroke-[#3498db] "}),e.jsx("p",{className:"text-neutral-900 text-xs font-semibold font-['Manrope'] tracking-wide ",children:t.sex})]})]}),e.jsx(v,{isOpen:x,onCloseModal:C,children:e.jsx(ue,{onOpenAtentionModal:N,onCloseModal:C})}),e.jsx(v,{isOpen:O,onCloseModal:g,children:e.jsx(T,{})}),e.jsx(v,{isOpen:$,onCloseModal:D,children:e.jsx(ae,{id:t._id,title:"adverstiment",nameToDelete:t.title,onCloseModal:D})})]})},ge=({pets:t})=>e.jsx("div",{className:"mt-[24px] md:mt-[40px]  smOnly:justify-center flex flex-wrap  gap-[24px] md:gap-x-[32px]",children:t==null?void 0:t.map(s=>e.jsx(fe,{pet:s},s._id))}),S=["sell","lost","found","good-hands","favorite","own"],z=4,Fe=()=>{const[t,s]=a.useState(""),[l,o]=a.useState(1),[p,h]=a.useState(1),[c,r]=a.useState(!1),u=F(),m=i(ne),f=i(le),{categoryName:x}=q();a.useEffect(()=>{t?(b(1,t),o(1)):b(l)},[l,t,x]),a.useEffect(()=>{h(Math.ceil(f/z))},[f,x]);function b(g,M){r(!0),u(G({category:x,query:M,page:g,limit:z})),r(!1)}const O=g=>{s(g)},w=()=>{s("")},N=g=>{o(g.selected+1)};return e.jsxs(J,{className:"pb-[117px] md:pb-[126px]",children:[S.includes(x)?e.jsxs("div",{children:[e.jsx(Z,{className:"mt-[40px] md:mt-[80px]",children:"Find your favorite pet"}),e.jsx(V,{getQuery:O,refreshClear:w,className:"mt-[24px] md:mt-[40px]"}),e.jsxs("div",{className:"md:flex justify-between",children:[e.jsx(de,{className:"mt-[20px] md:mt-[40px] ",onClick:()=>o(1)}),e.jsx(ce,{})]})]}):e.jsx(ee,{}),e.jsx(K,{}),m.length>0?e.jsx(ge,{pets:m}):S.includes(x)&&!c&&e.jsx("div",{className:"mx-auto mt-10 w-fit text-xl",children:"There are no ads in this category and search query... Try more!"}),e.jsx(X,{totalPages:p,handleClickPage:N,currentPage:l-1})]})};export{Fe as default};
