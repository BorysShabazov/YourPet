import{j as e,L as C,r,h as f,C as v,O as L}from"./index-1fd24780.js";import{f as P}from"./index-3cc13d63.js";import{R as k,S as M}from"./react-paginate-afd20fb1.js";import{T as S}from"./Title-b0069225.js";const E=({handleClickPage:s,totalPages:a})=>e.jsx(e.Fragment,{children:e.jsx(k,{nextLabel:"→",onPageChange:s,pageRangeDisplayed:window.innerWidth<480?4:5,marginPagesDisplayed:0,pageCount:a,previousLabel:"←",pageClassName:"w-[35px] h-[35px] rounded-full border flex items-center justify-center",pageLinkClassName:"w-[35px] h-[35px] rounded-full flex items-center justify-center",previousClassName:"mr-5 w-[35px] h-[35px] rounded-full border",previousLinkClassName:"w-[35px] h-[35px]  text-xl text-blue  flex items-center justify-center",nextClassName:"mr-5 w-[35px] h-[35px] rounded-full border flex items-center justify-center",nextLinkClassName:"w-[35px] h-[35px] text-xl text-blue flex items-center justify-center",containerClassName:"flex gap-[5px] mx-auto mt-10 w-max",activeClassName:"bg-blue text-white",renderOnZeroPageCount:null})}),u=({text:s,length:a})=>{const[x,n]=r.useState(!1),c=()=>n(!0),m=()=>n(!1);return e.jsx("span",{onMouseEnter:c,onMouseLeave:m,children:s.length>a?e.jsx("span",{style:{cursor:"zoom-in"},children:x?s:s.slice(0,a)+"..."}):s})},R=({date:s,imgUrl:a,text:x,title:n,url:c})=>e.jsxs("div",{className:"   mx-auto md:mx-0 md:w-[336px]  xl:w-[395px]",children:[e.jsx("div",{className:"w-full h-2 blue-gradient-full rounded-[40px]"}),e.jsxs("div",{className:"mx-auto mt-[12px] flex flex-col justify-between bg-white rounded-[20px] md:h-[556px] p-[16px] md:p-[12px]",children:[e.jsxs("div",{className:" flex flex-col gap-[16px]",children:[e.jsx("div",{className:"mx-[-16px] mt-[-16px] md:mx-[-12px] md:mt-[-12px]",children:e.jsx("img",{src:a,alt:"newImage",className:"w-full  bg-black bg-opacity-20 rounded-[20px] h-[252px] "})}),e.jsx("h2",{className:"text-2xl font-bold font-manrope ",children:e.jsx(u,{text:n,length:"40"})}),e.jsx("p",{className:"text-base font-normal font-manrope",children:e.jsx(u,{text:x,length:"200"})})]}),e.jsxs("div",{className:"flex justify-between mt-[24px] md:mt-[40px]",children:[e.jsx("p",{className:" text-grey text-base font-normal font-manrope",children:P(Date.parse(s),"dd/MM/yyyy")}),e.jsx(C,{target:"_blank",to:c,className:"text-blue text-base font-medium font-manrope hover:text-black",children:"Read more"})]})]})]}),T=async()=>(await f("/api/news/")).data,Q=async(s,a=1)=>(await f(`/api/news/?q=${s}&page=${a}`)).data,I=()=>{const[s,a]=r.useState([]),[x,n]=r.useState(0);r.useState(1);const[c,m]=r.useState(0),[h,g]=r.useState(""),p=6;r.useEffect(()=>{i()},[]);const i=async()=>{try{const t=await T();a(t.data),m(o=>(t.total!==o&&n(Math.ceil(t.total/p)),t.total))}catch(t){console.log(t)}},d=async(t,o=1)=>{try{const l=await Q(t,o);a(l.data),m(()=>(n(Math.ceil(l.total/p)),l.total)),g(t)}catch(l){console.log(l.message)}},j=t=>{d(h,t.selected+1),console.log(t.selected+1)},w=()=>{i()};return e.jsxs(v,{className:"pb-[117px] md:pb-[126px]",children:[e.jsx(S,{className:"mt-[40px] md:mt-[80px]",children:"News"}),e.jsx(M,{getQuery:d,refreshClear:w,className:"mt-[24px] md:mt-[40px]"}),e.jsx(L,{}),e.jsx("ul",{className:"mt-[24px] md:mt-[40px] xl:mt-[60px] flex flex-wrap gap-[24px] md:gap-x-[32px] md:gap-y-[24px] xl:gap-x-[31px] xl:gap-y-[24px]",children:s.map(({_id:t,date:o,imgUrl:l,text:y,title:N,url:b})=>e.jsx("li",{children:e.jsx(R,{date:o,imgUrl:l,text:y,title:N,url:b})},t))}),e.jsx(E,{handleClickPage:j,totalPages:x})]})};export{I as default};
